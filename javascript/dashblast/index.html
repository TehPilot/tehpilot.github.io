<!--DashBlast, created by TehPilot-->

<!DOCTYPE html>
<html lang="en-us">
<head>
	<meta charset="utf-8" />
	<title>DashBlast :: tehpilot.github.io</title>
	
	<!--In-document styling (bit easier to manage than external CSS for a document like this)-->
	<style type="text/css">
		/* Basic CSS stuff for the page.
		 * All IDs/properties organized alphabetically for easy reading/access.
		 */

		 /* Custom fonts */
		 @font-face
		 	{
		 	font-family:		 header;
		 	src:				 url('gunplay-3d.ttf');
		 	}
		 @font-face
		 	{
		 	font-family:		 tagline;
		 	src:				 url('gunplay-rg.ttf');
		 	}
		 
		/* * * * * * * * * * *
		 * SPECIFIC ID/CLASS *
		 * * * * * * * * * * */
		/* Centers the buttons on the page */
		#buttons
			{
			font-family: 		 tagline;
			margin:				 auto;
			text-align: 		 center;
			width: 			 	 33%;
			}
		/* Centers the author link and update tracker on the page */
		#info
			{
			text-align: 		 center;
			}
		/* Set the visual properties of the main playing textbox.
		 * Fixed margins and sizes (in px) are used to clearly define the size.
		 * overflow-y allows for scrolling, as the container is a fixed size
		 * to avoid the height changing that plagued RunGun.
		 */
		#mainbody
			{
			background-color:	 #EEE;
			border:          	 3px solid black;
			font-size:       	 1.25em;
			height: 			 192px;
			margin: 		 	 auto;
			margin-bottom: 	 	 25px;
			overflow-y: 	 	 scroll;
			padding: 		  	 1em;
			text-align: 	 	 left;
			width: 			 	 600px;
			}
		#stats-display
			{
			font-family: 		 tagline;
			font-size:			 125%;
			margin:				 auto;
			text-align:			 center;
			width:				 128px;
			}
		/* Centering and font size adjustment for the tagline. */
		#tagline
			{
			font-family:		 tagline;
			font-size: 			 200%;
			margin-bottom: 		 0%;
			margin-top: 		 0%;
			text-align: 		 center;
			}
		/* Centering and font size adjustment for the title. */
		#title
			{
			font-family:		 header;
			font-size: 			 350%;
			margin-bottom: 		 0px;
			text-align: 		 center;
			}

		/* * * * * * * * *
		 * STANDARD TAGS *
		 * * * * * * * * */
		button
			{
			border:				 3px solid black;
			font-family:		 tagline;
			font-size: 			 150%;
			margin: 			 0.5em;
			width:				 96px;
			}
		button:active
			{
			background-color:	 #333;
			color:				 #fff;
			}
		button:hover
			{
			border:				 3px solid #333;
			}
	</style>
	
	<script type="text/javascript">
	//defines the "state" of the game
	var state = 0;

	//define and set the player's health and shotgun strength (used for boss fights)
	var maximumPlayerHealth = 3;
	var currentPlayerHealth = maximumPlayerHealth;
	var playerDamage = 1;

	//catchall variable for boss health
	var bossHealth = 3;
	
	//handles the display text for each "state" available in the game
	var gameplayText = new Array();
	
	function updateGameText() {
		gameplayText[0] = "The sun rises on this glorious day in the United States.<br /><br />It is part of your morning routine to feel super thankful for the Founding Fathers and the Second Amemdment which they have penned. Thanks to their foresight and advancements in human rights, you are blessed with the ability to legally own a deadly firearm. Every night, you sleep soundly with your high-quality, gold-plated shotgun tucked comfortably underneath your bed.<br /><br />Today, you shall arm yourself in preparation for the long and dreadful walk to the annual Gun Show. The dangers of Suburban America are numerous and perilous, and you will need to rely on your trusty antique shotgun precursor to guide the way.<br /><br />What will you do? Choose your destiny below - <b>DASH</b> or <b>BLAST</b>.";
		gameplayText[1] = "You welcome the morning sun by dragging your prized possession out from under the bed. You follow up with a celebratory shot, lodging another heavy shotgun round in your bedroom ceiling. The ceiling looks like swiss cheese, but that doesn't matter.";
		gameplayText[2] = "Another round lodges itself in the ceiling. As much as you love the heavy sound of gunfire and its ability to cleanse your mind of intrusive thoughts, doing this too much might invite a ceiling collapse. Best to play it safe and stop shooting at the buckling roof.";
		gameplayText[3] = "You leap out of bed, pulling the shotgun out from under your mattress. You admire its reflective coat and shiny finish on the handle as you trot up to your bedroom door. '<i>Today's gonna be a great day!'</i>, you whisper to yourself.";
		gameplayText[4] = "Satisfied with your warm-up, you hop out of bed and run up to your bedroom door. '<i>Today's gonna be a great day!'</i>, you whisper to yourself.";
		gameplayText[5] = "You run headlong into the door. Ow.";
		gameplayText[6] = "You effortlessly blast the door off its hinges, opening up passage to the main hallway.";
		gameplayText[7] = "Squeezing the trigger again, you revel in the glorious sound of gunpower exploding. The chandelier in your center hallway sways side to side, one of its lights smoldering and broken.";
		gameplayText[8] = "You run into your main foyer, standing at the top of the stairs. The carpet-runner covered stairs lead directly to your front door.<br /><br />If you're going to stand any chance of making it to the gun show, you'll probably need to go out that door.";
		gameplayText[9] = "You fire again at your chandelier. The fancy lighting fixture snaps from its chain and crahses into the floor, creating a massive hole in the floor at the base of the stairs. It leads into your unkempt and dark basement.";
		gameplayText[10] = "A shotgun round flies into the depths of your basement. That'll scare the rats away.";
		gameplayText[11] = "You begin dashing down the stairs, swinging your arms and legs in comical fashion.";
		gameplayText[12] = "As you run down the stairs and hit the first floor's tiling, the floor gives way and drops you into the basement. It's dark, smells pretty terrible, and in all honesty you really wish this hadn't happened.";
		gameplayText[13] = "You try and make a leap across the chasm in your floor, but you fall short and plummet into the depths of your basement. You land softly on some musty mattress conveniently placed where you'd fall.";
		gameplayText[14] = "A shotgun shell to your ceiling isn't going to help you get out of this predicament.";
		gameplayText[15] = "You trudge onwards, into the depths of your basement. With your gun at your side, absolutely nothing can terrify or stop you.";
		gameplayText[16] = "A rat scurries past your feet. You shoot it.<br /><br />That'll teach the rodent to nest in <i>your</i> basement.";
		gameplayText[17] = "It's really dark down here. As you run through the basement, you step in puddles of water formed on your carpet. Someday you'll need to invest money into fixing the faulty plumbing, and not purchasing more fancy firearms.";
		gameplayText[18] = "You shoot into the darkness. A loud squeak and scratching noise follows.<br /><br />A giant rat runs up and attacks you!";
		gameplayText[19] = "As you round the next corner, a loud squeak and scratching echoes throughout the basement. Through the dim lighting, you see a giant rat charge at you!";
		gameplayText[20] = "BOSS HEALTH: " + bossHealth + "/3<br />YOUR HEALTH: " + currentPlayerHealth + "/" + maximumPlayerHealth + "<br /><br />Reacting quickly, you put a round through the giant rat. It reels back and roars in agony, ready to fight.";
		gameplayText[21] = "BOSS HEALTH: " + bossHealth + "/3<br />YOUR HEALTH: " + currentPlayerHealth + "/" + maximumPlayerHealth + "<br /><br />You and the rat run in circles around each other, with the rat poised to attack.";
		gameplayText[22] = "BOSS HEALTH: " + bossHealth + "/3<br />YOUR HEALTH: " + currentPlayerHealth + "/" + maximumPlayerHealth + "<br /><br />You run around, creating distance as the rat pauses to catch its breath.";
		gameplayText[23] = "BOSS HEALTH: " + bossHealth + "/3<br />YOUR HEALTH: " + currentPlayerHealth + "/" + maximumPlayerHealth + "<br /><br />You leap out of the way as the rat charges by you!";
		gameplayText[24] = "BOSS HEALTH: " + bossHealth + "/3<br />YOUR HEALTH: " + currentPlayerHealth + "/" + maximumPlayerHealth + "<br /><br />You load up your gun to shoot, only to be mauled by the rat. You should wait until the beast is vulnerable before loading and firing.";
		gameplayText[25] = "BOSS HEALTH: " + bossHealth + "/3<br />YOUR HEALTH: " + currentPlayerHealth + "/" + maximumPlayerHealth + "<br /><br />You shoot the rat! It reels back and roars in agony, ready to strike again.";
		gameplayText[26] = "BOSS HEALTH: " + bossHealth + "/3<br />YOUR HEALTH: " + currentPlayerHealth + "/" + maximumPlayerHealth + "<br /><br />The rat charges up and pins you to the musty, damp floor. Before you can reach for your gun to slay the monster, you are quickly and violently eviscerated by its claws. Looks like you won't be showing up to the gun show today. Or any time, really.<br /><br /><b>You have died. Press any button to restart your adventure.</b>";
		gameplayText[27] = "BOSS HEALTH: " + bossHealth + "/3<br />YOUR HEALTH: " + currentPlayerHealth + "/" + maximumPlayerHealth + "<br /><br />With one last buckshot, the mighty rat falls silent and collapses to the ground. As its tail twitches for the last time, you take the time to patch yourself up and re-assess the situation. A giant rat slain is good news for the pest control company you'll call when you get home tonight, and an excellent story for your friends at the gun show.<br /><br /><b>You have defeated a boss! You will be given the option to upgrade one of your stats following a boss battle. You can either increase your maximum Health, or increase the damage dealt by your shotgun shell rounds. Select 'Dash' for the Health upgrade, or 'Blast' for the damage upgrade.";
		gameplayText[28] = "You shoot a bullet up into the air to signify your victory.<br /><br />+1 Damage.";
		gameplayText[29] = "Okay stop that you're just wasting bullets now.";
		gameplayText[30] = "You limber up before dashing further into your basement. <i>Today's gonna be a good day.</i><br /><br />+2 Health.";
		gameplayText[31] = "You permit yourself to fire another victory shot, because why not.";
		gameplayText[32] = "You round another corner before seeing some light coming from above. You've found the stairs, and the way out of this hellhole you call a basement.";
		gameplayText[33] = "You are SO EAGER to get on with your adventure you shoot the door open from a great distance.";
		gameplayText[34] = "You dash up to the door, staring at the light seeping through the seams along its sides.";
		gameplayText[35] = "You run headlong into the door.<br /><br />Friendly reminder that running into doors increases the likelihood of a concussion! (\u25D5\u203F\u25D5\u273F)";
		gameplayText[36] = "You shoot the door off its hinges! If only you knew a better way to safely unlock doors.";
		gameplayText[37] = "The door's already on the floor with a massive hole in the center. You may want to reconsider shooting the poor hunk of wood like that.";
		gameplayText[38] = "You run out of the basement and end up in your kitchen. Sprawled across your countertop is a collection of ingredients and tools, as well as a hastily scribbled guide to making a delicious bacon-and-egg breakfast sandwich. Looks like someone else in the house suspected you'd wake up late for the gun show, and left a sustenance creation kit out for you.";
		gameplayText[39] = "You take your shotgun and shoot the counter. Flour, egg yolks, and raw bacon splatter on the walls as your cracked countertop collapses. What a way to make breakfast.";
		gameplayText[40] = "You try to use your shotgun to clean up the mess you've made, but it looks like the bullets only come out one way each time.";
		gameplayText[41] = "You dash over to your garage door. Who needs breakfast anyway?";
		gameplayText[42] = "The shotgun shell you fire lodges itself firmly in your garage door. It's way heavier than any other entrance protector in your house, and you'll need to resort to special strategies to knock it down...";
		gameplayText[43] = "This time, you carefully open the door with the doorknob and close it behind you. The door remains outstandingly intact. The rest of your house... not so much.<br /><br />You are now standing in your <b>GARAGE</b>.";
		gameplayText[44] = "You fire your shotgun at the ceiling lamp, causing the room to go dark!";
		gameplayText[45] = "You walk up to the door to the outside world. Are you ready for this?";
		gameplayText[46] = "You stumble around aimlessly in the dark, stubbing your toe in the process.<br /><br />This is definitely not the first time you've mistakenly destroyed the lights and had trouble navigating the area.";
		gameplayText[47] = "Another shot echoes through your garage. The brief explosion at the front of the gun provides no light, and puts you no closer to finding the exit.";
		gameplayText[48] = "You calmly exit your house, gun holstered at your side.";
		gameplayText[49] = "You stumble through a door and end up outside. Looks like you've finally escaped your house.";
	}
	
	/*
	 * dash()			- void
	 * Performs the state update whenever the player chooses the "Dash" command.
	 */
	function dash() {
		switch (state) {
			case 0: {state = 3; break;}
			case 1: {state = 4; break;}
			case 2: {state = 4; break;}
			case 3: {state = 5; break;}
			case 4: {state = 5; break;}
			case 5: {state = 5; break;}
			case 6: {state = 8; break;}
			case 7: {state = 8; break;}
			case 8: {state = 11; break;}
			case 9: {state = 13; break;}
			case 10: {state = 13; break;}
			case 11: {state = 12; break;}
			case 12: {state = 15; break;}
			case 13: {state = 15; break;}
			case 14: {state = 15; break;}
			case 15: {state = 17; break;}
			case 16: {state = 17; break;}
			case 17: {state = 19; break;}
			case 18: {state = 19; break;}
			case 19: {
				if (Math.floor(Math.random()*2) != 1) {
					state = 21;
					}
				else {
					state = 22;
					}
				break;
				}
			case 20: {
				if (Math.floor(Math.random()*2) != 1) {
					state = 21;
					}
				else {
					state = 22;
					}
				break;
				}
			case 21: {state = 23; break;}
			case 22: {
				if (Math.floor(Math.random()*2) != 1) {
					state = 21;
					}
				else {
					state = 22;
					}
				break;
				}
			case 23: {
				if (Math.floor(Math.random()*2) != 1) {
					state = 21;
					}
				else {
					state = 22;
					}
				break;
				}
			case 24: {
				if (Math.floor(Math.random()*2) != 1) {
					state = 21;
					}
				else {
					state = 22;
					}
				break;
				}
			case 25: {
				if (Math.floor(Math.random()*2) != 1) {
					state = 21;
					}
				else {
					state = 22;
					}
				break;
				}
			case 26: {
				location.reload();
				break;
				}
			case 27: {
				maximumPlayerHealth += 2;
				currentPlayerHealth = maximumPlayerHealth;
				state = 30;
				break;
				}
			case 28: {state = 32; break;}
			case 29: {state = 32; break;}
			case 30: {state = 32; break;}
			case 31: {state = 32; break;}
			case 32: {state = 34; break;}
			case 33: {state = 38; break;}
			case 34: {state = 35; break;}
			case 35: {state = 35; break;}
			case 36: {state = 38; break;}
			case 37: {state = 38; break;}
			case 38: {state = 41; break;}
			case 39: {state = 41; break;}
			case 40: {state = 41; break;}
			case 41: {state = 43; break;}
			case 42: {state = 43; break;}
			case 43: {state = 45; break;}
			case 44: {state = 46; break;}
			case 45: {
				document.body.style.backgroundColor = "#FFF";
				state = 48;
				break;
				}
			case 46: {
				document.body.style.backgroundColor = "#FFF";
				state = 49;
				break;
				}
			case 47: {state = 46; break;}
			}
		updateText();
		}
		
	/*
	 * blast()			- void
	 * Performs the state update whenever the player chooses the "Blast" command.
	 */
	function blast() {
		switch (state) {
			case 0: {state = 1; break;}
			case 1: {state = 2; break;}
			case 2: {state = 2; break;}
			case 3: {state = 6; break;}
			case 4: {state = 6; break;}
			case 5: {state = 6; break;}
			case 6: {state = 7; break;}
			case 7: {state = 7; break;}
			case 8: {state = 9; break;}
			case 9: {state = 10; break;}
			case 10: {state = 10; break;}
			case 11: {state = 9; break;}
			case 12: {state = 14; break;}
			case 13: {state = 14; break;}
			case 14: {state = 14; break;}
			case 15: {state = 16; break;}
			case 16: {state = 16; break;}
			case 17: {state = 18; break;}
			case 18: {
				bossHealth -= playerDamage;
				if (bossHealth <= 0) {
					state = 27;
					break;
				}
				state = 20;
				break;
				}
			case 19: {
				bossHealth -= playerDamage;
				if (bossHealth <= 0) {
					state = 27;
					break;
				}
				state = 20;
				break;
				}
			case 20: {
				currentPlayerHealth--;
				if (currentPlayerHealth == 0) {
					state = 26;
					break;
				}
				state = 24;
				break;
				}
			case 21: {
				currentPlayerHealth--;
				if (currentPlayerHealth == 0) {
					state = 26;
					break;
				}
				state = 24;
				break;
				}
			case 22: {
				bossHealth -= playerDamage;
				if (bossHealth <= 0) {
					state = 27;
					break;
				}
				state = 25;
				break;
				}
			case 23: {
				currentPlayerHealth--;
				if (currentPlayerHealth == 0) {
					state = 26;
					break;
				}
				state = 24;
				break;
				}
			case 24: {
				currentPlayerHealth--;
				if (currentPlayerHealth == 0) {
					state = 26;
					break;
				}
				state = 24;
				break;
				}
			case 25: {
				currentPlayerHealth--;
				if (currentPlayerHealth == 0) {
					state = 26;
					break;
				}
				state = 24;
				break;
				}
			case 26: {
				location.reload();
				break;
				}
			case 27: {
				playerDamage += 1;
				currentPlayerHealth = maximumPlayerHealth;
				state = 28;
				break;
				}
			case 28: {
				state = 29;
				break;
				}
			case 29: {
				state = 29;
				break;
				}
			case 30: {
				state = 31;
				break;
				}
			case 31: {
				state = 31;
				break;
				}
			case 32: {state = 33; break;}
			case 33: {state = 37; break;}
			case 34: {state = 36; break;}
			case 35: {state = 36; break;}
			case 36: {state = 37; break;}
			case 37: {state = 37; break;}
			case 38: {state = 39; break;}
			case 39: {state = 40; break;}
			case 40: {state = 40; break;}
			case 41: {state = 42; break;}
			case 42: {state = 42; break;}
			case 43: {
				document.body.style.backgroundColor = "#000";
				state = 44;
				break;
				}
			case 44: {state = 47; break;}
			case 45: {
				document.body.style.backgroundColor = "#000";
				state = 44;
				break;
				}
			case 46: {state = 47; break;}
			case 47: {state = 47; break;}
			}
		updateText();
		}
		
	/*
	 * updateText()		- void
	 * Changes the displayed text according to the game's current state.
	 */
	function updateText() {
		updateGameText();
		document.getElementById("mainbody-message").innerHTML = gameplayText[state];
		updateStatsText();
		}

	function updateStatsText() {
		document.getElementById("stats").innerHTML = "\u2665 " + maximumPlayerHealth + " \u2694 " + playerDamage;
		}
	</script>
</head>

<!--Main body-->
<body onload = "updateText()">
	<!--Header (title and tagline, author information)-->
	<header>
		<h1 id="title">D A S H B L A S T</h1>
		<p id="tagline">AN EXPLOSIVE TEXT ADVENTURE</p>
		<p id="info">
			interactive web experience delivered by <b><a href="http://www.twitter.com/tehpilot/">@tehpilot</a></b> | <i>Last updated: 26 June 15</i>
		</p>
	</header>
	
	<!--Player stats-->
	<section id="stats-display">
		<p id="stats">asdasdasd</p>
	</section>

	<!--Main body (displayed text)-->
	<section id="mainbody">
		<code id="mainbody-message"></code>
	</section>
	
	<!--Buttons-->
	<div id="buttons">
		<button id="dashButton"  class="fancyButton" onclick="dash()">DASH</button>
		<button id="blastbutton" class="fancyButton" onclick="blast()">BLAST</button>
	</div>
	
</body>
</html>